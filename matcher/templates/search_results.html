{% for hit in results %}
  <div class="box">
    {% if hit.icon %}<img src="{{ hit.icon.replace('http://', 'https://') }}">{% endif %}
    {% if hit.osm_type in ('relation', 'way') %}
      <b>
        {% if name %}
          <a href="{{ url_for('matcher_progress', osm_id=hit.osm_id) }}">{{ name }}</a>,
          {% if hit.address.state %}{{ hit.address.state }}, {% endif %}
          {{ hit.address.country }}
        {% else %}
          <a href="{{ url_for('matcher_progress', osm_type=hit.osm_type, osm_id=hit.osm_id) }}">{{ hit.display_name }}</a>
        {% endif %}
      </b><br>
    {% else %}
      <b>
      {% if name %}
        {{ name }}, {{ hit.address.state }}, {{ hit.address.country }}
      {% else %}
        {{ hit.display_name }}
      {% endif %}
      </b><br>
      [matcher doesn't support OSM nodes yet]<br>
    {% endif %}
    category: {{ hit.category }}
    &mdash;
    type: {{ hit.type }}<br>
    bounding box: {{ ', '.join(hit.boundingbox) }}<br>
    {% if hit.place %}
      area: {{ '{:.2f}'.format(hit.place.area_in_sq_km) }} km&sup2; <br>
    {% endif %}
    {% if hit.osm_type and hit.osm_id %}
      OSM: <a href="https://www.openstreetmap.org/{{ hit.osm_type }}/{{ hit.osm_id }}">{{ hit.osm_type}} {{ hit.osm_id }}</a><br>
    {% endif %}
    {% if detail %}
      importance: {{ hit.importance }}<br>
      <pre>{{ hit.address | pprint }}</pre>
      <pre>{{ hit.extratags | pprint }}</pre>
      <pre>{{ hit | pprint }}</pre>
    {% endif %}
  </div>
{% endfor %}

